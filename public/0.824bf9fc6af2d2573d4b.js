webpackJsonp([0],{140:function(t,e,a){function i(t){a(157)}var o=a(30)(a(144),a(161),i,"data-v-3ac32268",null);t.exports=o.exports},144:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(148),o=a.n(i),n=a(54),r=a.n(n),s=a(60),l=a.n(s);e.default={data:function(){return{admin:null,update_password:!1,window_height:700,info:"Datos guardados",infoOperation:!1,timeout:3e3,valid:!1,name:"",email:"",username:"",password:"",nameRules:[function(t){return!!t||"El nombre es obligatorio"}],passwordRules:[function(t){return!!t||"La contraseña es obligatoria"}],emailRules:[function(t){return!!t||"El email es obligatorio"}],tipo:null,tipos:["Persona","Institución u organismo"],imageRules:[function(t){return!!t||"La imagen es obligatoria"}],image:"",form_height:700,search:"",view_search:!1,searchPerson:"",view_search_person:!1,headers:[{text:"",align:"left",sortable:!1,value:"image"},{text:"Nombre",align:"left",sortable:!0,value:"name"},{text:"",align:"center",sortable:!1}],headers2:[{text:"",align:"left",sortable:!1,value:"image"},{text:"Nombre",align:"left",sortable:!0,value:"username"},{text:"Email",align:"left",sortable:!0,value:"email"},{text:"",align:"center",sortable:!1}],rows_per_page:[10,15,25,50,{text:"Todos",value:-1}],campeonatos:[],participantes:[],dialog:!1,dialog2:!1,participante_to_delete:null,campeonato_to_delete:null,num_instituciones:0,num_personas:0,num_conexiones:0,dialogAddCampeonato:!1,dialogAddParticipante:!1,current_id_participante_to_update:null,current_id_campeonato_to_update:null,token:null,userID:null,teams:[],results:[]}},mounted:function(){this.token=this.$localStorage.get("billarToken"),this.userID=this.$localStorage.get("billarUserID"),this.admin=this.$store.state.admin,this.form_height=window.innerHeight-230,this.window_height=window.innerHeight-150,this.getCampeonatos(),this.getParticipantes()},computed:{filterCampeonatos:function(){return this.campeonatos.filter(function(t){return!0})},filterParticipantes:function(){return this.participantes.filter(function(t){return!0})},theme:function(){return this.$store.state.fondoDialog}},methods:{remove:function(t){this.relaciones.splice(this.relaciones.indexOf(t),1),this.relaciones=[].concat(o()(this.relaciones))},editParticipante:function(t){this.dialogAddParticipante=!0,this.current_id_participante_to_update=t._id,this.username=t.username,this.email=t.email,this.image=t.image,this.password="",this.userID===t._id?this.update_password=!0:this.update_password=!1},editCampeonato:function(t){this.dialogAddCampeonato=!0,this.current_id_campeonato_to_update=t._id,this.name=t.name,this.image=t.image,this.teams=t.teams,this.results=t.results},openDialogAddParticipante:function(){this.username="",this.password="",this.image="/static/img/user.png",this.dialogAddParticipante=!0,this.current_id_participante_to_update=null},openDialog:function(t){this.dialog=!0,this.participante_to_delete=t},openDialogAddCampeonato:function(){this.name="",this.image="/static/img/bolas/1.jpg",this.dialogAddCampeonato=!0,this.current_id_campeonato_to_update=null},openDialog2:function(t){this.dialog2=!0,this.campeonato_to_delete=t},getCampeonatos:function(){var t=this;r.a.get(t.$store.state.URL_NODE_SERVER+"/getCampeonatos",{headers:{Authorization:"Bearer "+t.token}}).then(function(e){t.campeonatos=e.data}).catch(function(e){t.$localStorage.remove("billarToken"),t.$localStorage.remove("billarUser"),t.$localStorage.remove("billarImg"),t.$router.push("/")})},getParticipantes:function(){var t=this;r.a.get(t.$store.state.URL_NODE_SERVER+"/getParticipantes",{headers:{Authorization:"Bearer "+t.token}}).then(function(e){t.participantes=e.data}).catch(function(e){t.$localStorage.remove("billarToken"),t.$localStorage.remove("billarUser"),t.$localStorage.remove("billarImg"),t.$router.push("/")})},saveParticipante:function(){if(this.$refs.form2.validate()){var t=this,e=l()(this.password),a={username:t.username,image:t.image,password:e,email:t.email};t.current_id_participante_to_update?(a._id=t.current_id_participante_to_update,r.a.post(t.$store.state.URL_NODE_SERVER+"/saveParticipante",a,{headers:{Authorization:"Bearer "+t.token}}).then(function(e){t.getParticipantes(),t.dialogAddParticipante=!1}).catch(function(t){console.log(t)})):r.a.post(t.$store.state.URL_NODE_SERVER+"/addParticipante",a,{headers:{Authorization:"Bearer "+t.token}}).then(function(e){t.getParticipantes(),t.dialogAddParticipante=!1}).catch(function(t){console.log(t)})}},saveCampeonato:function(){if(this.$refs.form1.validate()){var t=this;if(this.current_id_campeonato_to_update){var e={_id:t.current_id_campeonato_to_update,name:t.name,image:t.image,teams:t.teams,results:t.results};r.a.post(t.$store.state.URL_NODE_SERVER+"/saveCampeonato",e,{headers:{Authorization:"Bearer "+t.token}}).then(function(e){t.getCampeonatos(),t.dialogAddCampeonato=!1}).catch(function(t){console.log(t)})}else{var a={name:t.name,image:t.image,teams:[],results:[]};r.a.post(t.$store.state.URL_NODE_SERVER+"/addCampeonato",a,{headers:{Authorization:"Bearer "+t.token}}).then(function(e){t.getCampeonatos(),t.dialogAddCampeonato=!1}).catch(function(t){console.log(t)})}}},clear:function(){this.dialogAddParticipante=!1},clear2:function(){this.dialogAddCampeonato=!1},deleteParticipante:function(){var t=this;this.dialog=!1,r.a.post(t.$store.state.URL_NODE_SERVER+"/deleteParticipante",t.participante_to_delete,{headers:{Authorization:"Bearer "+t.token}}).then(function(e){t.participante_to_delete=null,t.getParticipantes()}).catch(function(e){console.log(e),t.participante_to_delete=null})},deleteCampeonato:function(){var t=this;this.dialog2=!1,r.a.post(t.$store.state.URL_NODE_SERVER+"/deleteCampeonato",t.campeonato_to_delete,{headers:{Authorization:"Bearer "+t.token}}).then(function(e){t.campeonato_to_delete=null,t.getCampeonatos()}).catch(function(e){console.log(e),t.campeonato_to_delete=null})},cancelDeleteNode:function(){this.participante_to_delete=null,this.campeonato_to_delete=null,this.dialog=!1,this.dialog2=!1},goToChart:function(t){this.$store.state.search=t,this.$router.push("Billar")}}}},147:function(t,e,a){t.exports={default:a(149),__esModule:!0}},148:function(t,e,a){"use strict";e.__esModule=!0;var i=a(147),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,o.default)(t)}},149:function(t,e,a){a(59),a(151),t.exports=a(3).Array.from},150:function(t,e,a){"use strict";var i=a(12),o=a(31);t.exports=function(t,e,a){e in t?i.f(t,e,o(0,a)):t[e]=a}},151:function(t,e,a){"use strict";var i=a(11),o=a(6),n=a(33),r=a(56),s=a(55),l=a(32),c=a(150),d=a(58);o(o.S+o.F*!a(57)(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,o,p,u=n(t),m="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,g=void 0!==h,f=0,_=d(u);if(g&&(h=i(h,v>2?arguments[2]:void 0,2)),void 0==_||m==Array&&s(_))for(e=l(u.length),a=new m(e);e>f;f++)c(a,f,g?h(u[f],f):u[f]);else for(p=_.call(u),a=new m;!(o=p.next()).done;f++)c(a,f,g?r(p,h,[o.value,f],!0):o.value);return a.length=f,a}})},153:function(t,e,a){e=t.exports=a(16)(!1),e.push([t.i,".texto[data-v-3ac32268]{font-size:17px!important;font-weight:400!important}[data-v-3ac32268]::-webkit-scrollbar{width:12px!important}[data-v-3ac32268]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)!important;border-radius:10px!important}[data-v-3ac32268]::-webkit-scrollbar-thumb{border-radius:10px!important;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)!important}.scrollform[data-v-3ac32268]{overflow-y:scroll!important}",""])},157:function(t,e,a){var i=a(153);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(17)("f3e89868",i,!0,{})},161:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"",wrap:"","align-start":"","mx-auto":""}},[a("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":"",xs12:"",md6:"",lg6:""}},[a("v-card",{staticClass:"widget-title fadeIn"},[a("v-toolbar",{staticStyle:{height:"100px",background:"transparent","z-index":"1000"},attrs:{dark:""}},[a("v-toolbar-title",{staticClass:"texto"},[t._v("\n            Campeonatos\n            "),a("v-tooltip",{attrs:{right:""}},[t.admin?a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.openDialogAddCampeonato},slot:"activator"},[a("v-icon",[t._v("playlist_add")])],1):t._e(),a("span",[t._v("Añadir campeonato")])],1)],1),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.view_search,expression:"view_search"}],attrs:{icon:""},on:{click:function(e){t.search="",t.view_search=!t.view_search}}},[a("v-icon",{staticStyle:{"font-size":"15px"}},[t._v("close")])],1),t.view_search?a("v-text-field",{staticStyle:{"min-width":"100px"},attrs:{autofocus:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.view_search=!t.view_search}}},[a("v-icon",[t._v("search")])],1)],1),a("div",{staticStyle:{position:"absolute",right:"10px",left:"10px",top:"60px"}},[a("v-data-table",{staticStyle:{"border-radius":"3px"},attrs:{"rows-per-page-text":"Filas por página","rows-per-page-items":t.rows_per_page,headers:t.headers,items:t.filterCampeonatos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticStyle:{"padding-top":"5px","padding-bottom":"5px",cursor:"pointer"},on:{click:function(a){t.editCampeonato(e.item)}}},[a("v-avatar",{staticClass:"grey lighten-4",attrs:{size:"30"}},[e.item.image?a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.item.image,alt:""}}):t._e()])],1),a("td",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.editCampeonato(e.item)}}},[t._v(t._s(e.item.name))]),a("td",[a("v-tooltip",{attrs:{left:""}},[t.admin?a("v-btn",{attrs:{slot:"activator",small:"",color:"white",icon:""},on:{click:function(a){t.goToChart(e.item.name)}},slot:"activator"},[a("v-icon",{staticStyle:{"font-size":"20px",color:"#81c784 !important"},attrs:{color:"green lighten-2"}},[t._v("device_hub")])],1):t._e(),a("span",[t._v("Mostrar cuadrante")])],1),a("v-tooltip",{attrs:{left:""}},[t.admin?a("v-btn",{attrs:{slot:"activator",small:"",color:"white",icon:""},on:{click:function(a){t.openDialog2(e.item)}},slot:"activator"},[a("v-icon",{staticStyle:{color:"grey !important","font-size":"20px"}},[t._v("delete_sweep")])],1):t._e(),a("span",[t._v("Eliminar campeonato")])],1)],1)]}}])},[a("v-alert",{attrs:{slot:"no-results",value:!0,color:"cyan",icon:"warning"},slot:"no-results"},[t._v('\n              La búsqueda de "'+t._s(t.search)+'" no ha obtenido resultados.\n            ')])],1)],1)],1)],1),a("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":"",xs12:"",md6:"",lg6:""}},[a("v-card",{staticClass:"widget-title fadeIn"},[a("v-toolbar",{staticStyle:{height:"100px",background:"transparent"},attrs:{dark:""}},[a("v-toolbar-title",{staticClass:"texto"},[t._v("\n            Participantes\n            "),a("v-tooltip",{attrs:{right:""}},[t.admin?a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.openDialogAddParticipante},slot:"activator"},[a("v-icon",[t._v("playlist_add")])],1):t._e(),a("span",[t._v("Añadir participante")])],1)],1),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.view_search_person,expression:"view_search_person"}],attrs:{icon:""},on:{click:function(e){t.searchPerson="",t.view_search_person=!t.view_search_person}}},[a("v-icon",{staticStyle:{"font-size":"15px"}},[t._v("close")])],1),t.view_search_person?a("v-text-field",{attrs:{autofocus:""},model:{value:t.searchPerson,callback:function(e){t.searchPerson=e},expression:"searchPerson"}}):t._e(),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.view_search_person=!t.view_search_person}}},[a("v-icon",[t._v("search")])],1)],1),a("div",{staticStyle:{position:"absolute",right:"10px",left:"10px",top:"60px"}},[a("v-data-table",{staticStyle:{"border-radius":"3px"},attrs:{"rows-per-page-text":"Filas por página","rows-per-page-items":t.rows_per_page,headers:t.headers2,items:t.filterParticipantes,search:t.searchPerson},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticStyle:{"padding-top":"5px","padding-bottom":"5px",cursor:"pointer"},on:{click:function(a){t.editParticipante(e.item)}}},[a("v-avatar",{staticClass:"grey lighten-4",attrs:{size:"30"}},[e.item.image?a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.item.image,alt:""}}):t._e()])],1),a("td",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.editParticipante(e.item)}}},[t._v(t._s(e.item.username))]),a("td",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.editParticipante(e.item)}}},[t._v(t._s(e.item.email))]),a("td",[a("v-tooltip",{attrs:{left:""}},[t.admin?a("v-btn",{attrs:{slot:"activator",small:"",color:"white",icon:""},on:{click:function(a){t.openDialog(e.item)}},slot:"activator"},[a("v-icon",{staticStyle:{color:"grey !important","font-size":"20px"}},[t._v("delete_sweep")])],1):t._e(),a("span",[t._v("Eliminar participante")])],1)],1)]}}])},[a("v-alert",{attrs:{slot:"no-results",value:!0,color:"cyan",icon:"warning"},slot:"no-results"},[t._v('\n              La búsqueda de "'+t._s(t.searchPerson)+'" no ha obtenido resultados.\n            ')])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"80%"},model:{value:t.dialogAddCampeonato,callback:function(e){t.dialogAddCampeonato=e},expression:"dialogAddCampeonato"}},[a("v-card",{staticClass:"scrollform",class:t.theme,style:{"max-height":t.window_height+"px"},attrs:{dark:""}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Datos del campeonato")])]),a("v-card-text",[a("v-form",{ref:"form1",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{row:"",wrap:"","align-start":""}},[a("v-flex",{staticStyle:{padding:"20px","padding-top":"0px"},attrs:{"d-flex":"",xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Nombre",rules:t.nameRules,disabled:!t.admin,required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-flex",{staticStyle:{padding:"20px","padding-top":"0px"},attrs:{"d-flex":"",xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Imagen",rules:t.imageRules,disabled:!t.admin,required:""},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)],1),t.admin?a("v-btn",{staticStyle:{"margin-top":"0px"},attrs:{color:"light-green darken-4",disabled:!t.valid},on:{click:t.saveCampeonato}},[t._v("\n            Guardar\n          ")]):t._e(),t.admin?a("v-btn",{staticStyle:{"margin-top":"0px"},nativeOn:{click:function(e){t.clear2(e)}}},[t._v("Cancelar")]):t._e()],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"80%"},model:{value:t.dialogAddParticipante,callback:function(e){t.dialogAddParticipante=e},expression:"dialogAddParticipante"}},[a("v-card",{staticClass:"scrollform",class:t.theme,style:{"max-height":t.window_height+"px"},attrs:{dark:""}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Datos del participante")])]),a("v-card-text",[a("v-form",{ref:"form2",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{row:"",wrap:"","align-start":""}},[a("v-flex",{staticStyle:{padding:"20px","padding-top":"0px"},attrs:{"d-flex":"",xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Nombre",rules:t.nameRules,disabled:!t.admin,required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("v-flex",{staticStyle:{padding:"20px","padding-top":"0px"},attrs:{"d-flex":"",xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Imagen",rules:t.imageRules,disabled:!t.admin,required:""},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:"","align-start":""}},[a("v-flex",{staticStyle:{padding:"20px","padding-top":"0px"},attrs:{"d-flex":"",xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Correo electrónico",rules:t.emailRules,disabled:!t.admin,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t.admin||t.update_password?a("v-flex",{staticStyle:{padding:"20px","padding-top":"0px"},attrs:{"d-flex":"",xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Contraseña",type:"password",rules:t.passwordRules,disabled:!t.admin&&!t.update_password,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):t._e()],1),a("v-btn",{staticStyle:{"margin-top":"0px"},attrs:{color:"light-green darken-4",disabled:!t.valid},on:{click:t.saveParticipante}},[t._v("\n            Guardar\n          ")]),t.admin?a("v-btn",{staticStyle:{"margin-top":"0px"},nativeOn:{click:function(e){t.clear(e)}}},[t._v("Cancelar")]):t._e()],1)],1)],1)],1),a("v-snackbar",{staticStyle:{background:"rgb(69, 143, 84) !important"},attrs:{timeout:t.timeout},model:{value:t.infoOperation,callback:function(e){t.infoOperation=e},expression:"infoOperation"}},[t._v("\n      "+t._s(t.info)+"\n      "),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.infoOperation=!1}}},[t._v("Cerrar")])],1),a("v-fab-transition",[a("v-btn",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.2)"},attrs:{router:"",to:"/Billar",dark:"",fab:"",fixed:"",bottom:"",right:"",small:""}},[a("v-icon",[t._v("device_hub")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"50%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("¿Esta seguro de que desea borrar el participante seleccionado?")]),a("v-card-text",[t._v("Esta operación no podrá ser deshecha")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"flat"},on:{click:function(e){t.cancelDeleteNode()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",flat:"flat"},on:{click:function(e){t.deleteParticipante()}}},[t._v("Borrar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"50%"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("¿Esta seguro de que desea borrar el campeonato seleccionado?")]),a("v-card-text",[t._v("Esta operación no podrá ser deshecha")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"flat"},on:{click:function(e){t.cancelDeleteNode()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red",flat:"flat"},on:{click:function(e){t.deleteCampeonato()}}},[t._v("Borrar")])],1)],1)],1)],1)},staticRenderFns:[]}}});