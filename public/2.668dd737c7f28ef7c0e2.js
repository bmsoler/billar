webpackJsonp([2],{155:function(t,e,a){function i(t){a(173)}var o=a(32)(a(160),a(178),i,"data-v-14f4b2cc",null);t.exports=o.exports},160:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(56),o=a.n(i);e.default={data:function(){return{window_height:700,fondoBurbujas:"#ffffffed",alert_no_data_search:!1,autozoom:!0,zooming:null,nivel:1,nivel_label:"Nivel de enlaces relacionados",token:null}},methods:{init:function(){function t(){if(s(),$("#q").attr("disabled",!0),v=$("#q").val().toLowerCase(),h){var t=function(t){if(t.error)alert(t.error);else if(0==t.nodes.length)m.alert_no_data_search=!0;else{f&&console.log("Datos SEARCH:",t);var e=[];for(var a in t.nodes)e.push(""+t.nodes[a].id);x=e,h.updateSettings({navigation:{initialNodes:e}})}$("#q").attr("disabled",!1)};o.a.post(m.$store.state.URL_NODE_SERVER+"/searchNodes",{method:"search",query:v},{headers:{Authorization:"Bearer "+m.token}}).then(function(e){t(e.data)}).catch(function(t){console.log(t)})}}function e(t){var e=0;if(!E)return 1;var a=E.id;return t.data.categories?t.data.categories.hasOwnProperty(a)&&(e=t.data.categories[a]):t.data.genre&&t.data.genre.indexOf(a)>=0&&(e=5),e}function a(t){t.relevance=1,t.isHidden=!1;var a=!1,i=0;if(t==k)t.radius=50,a=!0;else if(k&&t!=k){var o=!1;for(var n in t.links){var l=t.links[n];o|=l.from==k||l.to==k}if(o){var r=e(t);a=!0,t.radius=20+8*r}else t.radius=15}else if(t.radius=40,"imdb"==y&&t.data.imdb_rating){var s=F.imdb,d=1+(parseFloat(t.data.imdb_rating)-s)/(10-s+.1);t.radius=Math.max(20,t.radius*d)}t==w&&(a=!0);for(var n in t.links){var c=t.links[n].otherEnd(t),p=c.data.imdb_rating;p>i&&(i=p),c==w&&(a=!0)}t.isBadImdb="movie"==t.data.type&&parseFloat(t.data.imdb_rating)<F.imdb||"actor"==t.data.type&&i<F.imdb;var u=!1;if("movie"==t.data.type){var g=parseInt(t.data.released);(g<F.yearFrom||g>F.yearTo)&&(u=!0)}return(!a&&t.isBadImdb||u)&&(t.isHidden=!0,t.radius=20,t.relevance=.7),t}function i(t){var e,a=v&&-1!=x.indexOf(t.data.id);if(t.items=[],"actor"==t.data.type?(t.display="image",t.image="../static/img/male.png",t.imageCropping="crop",t.radius*=.6,e=t.data.name,t.data.image?t.fillColor="rgba(0,0,0,0.2)":"female"==t.data.gender?t.fillColor="pink":"male"==t.data.gender?t.fillColor="skyblue":t.fillColor="gray",!t.isHidden||t.hovered?t.opacity=1:(t.fillColor="black",t.opacity=.2,e="")):(t.aura=t.data.genre,t.display="image",t.lineWidth=1,t.lineColor="#eee",e=t.data.name,D=parseInt(t.data.released),t.data.raiz?(t.labelStyle.textStyle.font=Math.min(10,4+t.radius/4)+"px Arial",t.labelStyle.textStyle.fillColor="white",t.labelStyle.backgroundStyle.fillColor="#E65100",t.labelStyle.backgroundStyle.lineWidth=5,t.labelStyle.backgroundStyle.lineColor="#E65100"):t.data.remarcar?(t.labelStyle.textStyle.font=Math.min(10,4+t.radius/4)+"px Arial",t.labelStyle.textStyle.fillColor="white",t.labelStyle.backgroundStyle.fillColor="purple",t.labelStyle.backgroundStyle.lineWidth=5,t.labelStyle.backgroundStyle.lineColor="purple"):(t.labelStyle.textStyle.font=Math.min(9,4+t.radius/4)+"px Arial",t.labelStyle.textStyle.fillColor="white",t.labelStyle.backgroundStyle.fillColor="#0097A7",t.labelStyle.backgroundStyle.lineWidth=4,t.labelStyle.backgroundStyle.lineColor="#0097A7"),t.image="../static/img/movie-case-no-poster.png",t.imageCropping="crop",!t.isHidden||t.hovered?(t.fillColor=null,t.opacity=1,t.data.awards&&t.data.awards.match(/won/i)&&t.items.push({image:"../static/img/award.png",px:-.56,py:-.72,x:0,y:0,backgroundStyle:{fillColor:null}})):(t.fillColor="black",t.opacity=.2,e="",t.items.push({text:S+" "+t.data.imdb_rating,px:-.45,py:.65,x:0,y:0,textStyle:{fillColor:"#ecc"},backgroundStyle:{fillColor:"#800"}}))),t.data.image&&(t.image=t.data.image),t==k){t.label="";var i="#8E24AA",o=2;t.data.raiz&&(i="#E65100",o=3),t.items.push({text:e,px:0,py:1,x:0,y:40,textStyle:{fillColor:"white"},backgroundStyle:{fillColor:i,lineWidth:o}})}else t.label=e;return a&&(t.data.raiz?(t.labelStyle.textStyle.fillColor="white",t.labelStyle.backgroundStyle.fillColor="#E65100",t.labelStyle.backgroundStyle.lineWidth=2,t.labelStyle.backgroundStyle.lineColor="#E65100"):(t.labelStyle.textStyle.fillColor="white",t.labelStyle.backgroundStyle.fillColor="#8E24AA",t.labelStyle.backgroundStyle.lineWidth=2,t.labelStyle.backgroundStyle.lineColor="#8E24AA")),t.focused&&t.selected&&(t.label=""),t}function n(t,e){var a="<div align='center'> <img src='"+e.image+"' style='max-width: 80%; border-radius: 5px;max-height: 250px' /></div><i id='nodoID' nodoID='"+t._id+"' style='position: absolute; top: 50px; right: 0; color: #7CB342 !important; cursor: pointer; margin: 20px; font-size: 25px;' class='material-icons'>border_color</i><i id='buscarNodo' style='position: absolute; top: 0px; right: 0; color: purple !important; cursor: pointer; margin: 20px; font-size: 25px;' class='material-icons'>share</i><div align='center' style='width: 100%;margin-top: 20px; margin-bottom:20px;'><span id='nodeName' style='color:#175A79; font-size: 25px'>"+t.name+"</span></div>";if(t.cargo&&t.cargo.length>0&&(a=a+"<div align='center'style='width: 100%; margin-bottom:15px;'><span style='padding: 5px; color: purple; font-size: 15px'><i>"+t.cargo+"</i></span></div>"),t.biography&&t.biography.length>0&&(a=a+"<p style='text-align: justify; padding-top: 5px;'>"+t.biography+"</p>",a+="<div style='width: 100%; margin-bottom: 15px;'><hr></div>"),t.formacion&&t.formacion.length>0&&(a=a+"<span style='font-size: 11px;font-weight: bold;'>FORMACIÓN</span><br><p style='text-align: justify; padding-top: 5px;'>"+t.formacion+"</p>",a+="<div style='width: 100%; margin-bottom: 15px;'><hr></div>"),t.experiencia&&t.experiencia.length>0&&(a=a+"<span style='font-size: 11px;font-weight: bold;'>EXPERIENCIA</span><br><p style='text-align: justify; padding-top: 5px;'>"+t.experiencia+"</p>",a+="<div style='width: 100%; margin-bottom: 15px;'><hr></div>"),t.relaciones&&t.relaciones.length>0){a+="<span style='font-size: 11px;font-weight: bold;'>OTRAS RELACIONES</span><br><p style='text-align: justify;padding-top: 10px'>";for(var i=0;i<t.relaciones.length;i++){a=a+"<span> · "+t.relaciones[i]+"</span><br>"}a+="</p><div style='width: 100%; margin-bottom: 15px;'><hr></div>"}if(t.email&&t.email.length>0&&(a=a+"<span style='font-size: 11px;font-weight: bold; '>EMAIL</span><br><p style='text-align: justify; padding-top: 5px;'><a style='font-size: 13px;color: purple;' href='mailto:"+t.email+"'>"+t.email+"</a></p>",a+="<div style='width: 100%; margin-bottom: 15px;'><hr></div>"),t.web&&t.web.length>0){var o=t.web;-1===o.indexOf("http://")&&-1===o.indexOf("https://")&&(o="http://"+o),a=a+"<span style='font-size: 11px;font-weight: bold;'>WEB</span><br><div style='width: 100%; margin-top: 5px;'><span style='padding: 0px; cursor:pointer'><a style='font-size: 13px;color: purple;' href='"+o+"' target='_blank'>Ir a la web<i class='material-icons' style='position: absolute; margin-top: -2px; margin-left: 5px'>open_in_new</i></a></span><div><br>",a+="<div style='width: 100%; margin:auto; margin-bottom: 15px;'><hr></div>"}return(t.phone&&t.phone.length>0||t.phone2&&t.phone2.length>0)&&(a+="<span style='font-size: 11px;font-weight: bold;'>TELÉFONOS</span><br>"),t.phone&&t.phone.length>0&&(a=a+"<div align='left' style='margin-top: 10px'><a href='#' alt='Contactar' title='Contactar' style='color: purple; margin-right: 15px;font-size: 15px;'><i style='float: left; margin-right: 5px;font-size: 20px;' class='material-icons'>phone_forwarded</i>"+t.phone+"</a></div>"),t.phone2&&t.phone2.length>0&&(a=a+"<div style='margin-top: 10px'><a  href='#' alt='Contactar' title='Contactar' style='color: purple; margin-right: 15px;font-size: 15px;'><i style='float: left; margin-right: 5px;font-size: 20px;' class='material-icons'>phone_forwarded</i>"+t.phone2+"</a></div>"),(t.phone&&t.phone.length>0||t.phone2&&t.phone2.length>0)&&(a+="<div style='width: 100%; margin-top:15px; margin-bottom: 15px;'><hr></div>"),a+="<div style='margin-top: 20px; height: 120px' align='left'>",(t.linkedin||t.twitter||t.youtube||t.instagram||t.facebook)&&(a+="<span style='font-size: 11px;font-weight: bold;'>REDES SOCIALES</span><br><br>"),t.linkedin&&t.linkedin.length>0&&(a=a+"<a href='"+t.linkedin+"' target='_blank'><img src='static/linkedin.png' style='float: left; width: 30px; margin-right: 10px'/></a>"),t.twitter&&t.twitter.length>0&&(a=a+"<a href='"+t.twitter+"' target='_blank'><img src='static/twitter.png' style='float: left; width: 42px; margin-top: -6px; margin-right: 10px'/></a>"),t.youtube&&t.youtube.length>0&&(a=a+"<a href='"+t.youtube+"' target='_blank'><img src='static/youtube.png' style='float: left; width: 36px; margin-top: -3px; margin-right: 10px'/></a>"),t.instagram&&t.instagram.length>0&&(a=a+"<a href='"+t.instagram+"' target='_blank'><img src='static/instagram.png' style='float: left; width: 32px; margin-top: 0px; border-radius: 10px; margin-right: 10px'/></a>"),t.facebook&&t.facebook.length>0&&(a=a+"<a href='"+t.facebook+"' target='_blank'><img src='static/facebook.png' style='float: left; width: 32px; margin-top: 0px; border-radius: 10px; margin-right: 10px'/></a>"),a+="</div>"}function l(){A=R.rangeSlider("min"),F.yearFrom=Math.round(A),N=R.rangeSlider("max"),F.yearTo=Math.round(N),h.updateFilters(),h.updateStyle(),$("#yearFrom").html(F.yearFrom),$("#yearTo").html(F.yearTo)}function r(t){var e=h.getNodeDimensions(t);return{area:{left:e.x-5*e.radius,top:e.y-5*e.radius,width:10*e.radius,height:10*e.radius},pie:{radius:e.radius+e.radius/2,innerRadius:e.radius}}}function s(){b.updateSettings({area:{left:-100,top:-100,width:0,height:0}}),_=null,z=null,E=null}function d(t){s(),t.clickNode&&(h.clearFocus(),h.addFocusNode(t.clickNode))}function c(){var t=h.selection();if(0===t.length)return void s();var e=t[0];if(e.focused){if(C=p(e.data),e===z)return;z=e,_=r(e),_.data={preloaded:{subvalues:C}},_.navigation={},b.updateSettings(_),k=e}else s(),h.addFocusNode(e)}function p(t){var e=[];if(t.categories)for(var a in t.categories){var i=t.categories[a],o={id:a,value:i,style:{label:{text:a}}};e.push(o)}else if(t.genre)for(var n in t.genre){var o={id:t.genre[n],value:1,style:{label:{text:t.genre[n]}}};e.push(o)}return e}function u(){var t=h.selection();if(0!==t.length){var e=t[0];if(e.focused&&null!=_&&e==k){var a=r(e),i=a.area;if(_&&_.area.left===i.left&&_.area.top===i.top&&_.pie.radius===a.pie.radius)return;_=a,b.updateSettings(a)}else s()}}function g(t){E=t.selection.length>0?t.selection[0]:t.pie.parentSlice?t.pie.parentSlice:null,h.updateSettings({style:{nodeStyleFunction:function(t){a(t),i(t)}}})}var f=!1,m=this;this.window_height=window.innerHeight-200,this.zooming={zoomExtent:[.1,3],autoZoomExtent:[1,1.5],autoZoomSize:.5,autoZoomAfterClick:!0},$("#search").on("click",function(){t()}),$("#clear").on("click",function(){$("#q").val(""),h.updateSettings({navigation:{initialNodes:[]}}),s(),$("#q").focus()}),$("#removeSearch").on("click",function(){$("#q").val(""),h.updateSettings({navigation:{initialNodes:[]}}),s(),$("#q").focus(),t()}),$("#q").on("click",function(t){$(this).select()}),$("#q").on("keydown",function(e){13==(e.keyCode||e.which)&&(t(),e.preventDefault())}),$("#demo").on("click","#buscarNodo",function(e){var a=$("#demo").find("#nodeName").html();this.search=a,$("#q").val(a),t()}),$("#demo").on("click","#nodoID",function(t){var e=$("#demo").find("#nodoID").attr("nodoID");m.$store.state.edit_node=e,m.$router.push("/Datos")}),$("#controls").on("click","#autozoom",function(t){m.autozoom?(h.updateSettings({interaction:{zooming:{zoomExtent:[.1,3]}}}),h.updateSettings({interaction:{zooming:{autoZoomExtent:[1,1.5]}}}),h.updateSettings({interaction:{zooming:{autoZoomSize:.5}}}),h.updateSettings({interaction:{zooming:{autoZoomAfterClick:!0}}})):(h.updateSettings({interaction:{zooming:{autoZoomExtent:[1,1]}}}),h.updateSettings({interaction:{zooming:{autoZoomSize:0}}}),h.updateSettings({interaction:{zooming:{autoZoomAfterClick:!1}}}))}),$("#controls").on("click","#nivel",function(t){h.updateSettings({navigation:{focusNodeExpansionRadius:m.nivel}})}),$("#imdb-rating a").on("click",function(){F.imdb=parseInt($(this).attr("title")),$("#imdb-rating a").each(function(){parseInt($(this).attr("title"))<=F.imdb?($(this).addClass("on"),$(this).removeClass("off")):($(this).addClass("off"),$(this).removeClass("on")),$("#imdb-rating small strong").html(F.imdb)}),s(),w=null,h.updateStyle()}),$("#sort a").click(function(t){"default"==$(this).attr("rel")?($('#sort a[rel="default"]').attr("class","on"),$('#sort a[rel="imdb"]').attr("class","off"),y="default"):($('#sort a[rel="default"]').attr("class","off"),$('#sort a[rel="imdb"]').attr("class","on"),y="imdb"),h.updateStyle()});var h=new NetChart({container:$("#demo")[0],data:{preloadNodeLinks:!0,dataFunction:function(t,e,a){f&&console.log("Llamada:",t);var i=function(t){f&&console.log("Datos:",t),e(t)};o.a.post(m.$store.state.URL_NODE_SERVER+"/getNodes",{method:"load",ids:t.join(",")},{headers:{Authorization:"Bearer "+m.token}}).then(function(t){i(t.data)}).catch(function(t){m.$localStorage.remove("bubblesToken"),m.$localStorage.remove("bubblesUser"),m.$localStorage.remove("bubblesImg"),m.$store.commit("loginKO"),m.$router.push("/")})}},area:{paddingTop:100,paddingLeft:40,paddingRight:40,paddingBottom:40},navigation:{mode:"focusnodes",initialNodes:[],focusNodeExpansionRadius:m.nivel,focusNodeTailExpansionRadius:.3,numberOfFocusNodes:10},toolbar:{enabled:!0},style:{nodeDetailMinSize:20,nodeDetailMinZoom:1e-5,nodeRadiusExtent:[10,150],nodeAutoScaling:"none",node:{fillColor:null},link:{fillColor:"#175A79"},nodeHovered:{fillColor:void 0,shadowBlur:0,shadowColor:"pink"},linkHovered:{shadowBlur:0,shadowColor:"pink"},nodeLabel:{scaleWithZoom:!0,aspectRatio:5,textStyle:{fillColor:"black",font:"8px Arial"},backgroundStyle:{fillColor:"#eee",lineWidth:6,lineColor:"#eee"}},hiddenLinks:{lineColor:"gray",lineWidth:2,size:6},selection:{fillColor:null,sizeConstant:5,sizeProportional:.1},removedColor:"#333",nodeStyleFunction:function(t){t=a(t),t=i(t)},linkStyleFunction:function(t){t.relevance=Math.min(t.from.relevance,t.to.relevance)}},interaction:{resizing:{enabled:!1},selection:{lockNodesOnMove:!1},zooming:m.zooming},layout:{nodeSpacing:9,aspectRatio:!1},nodeMenu:{enabled:!0,showData:!1,contentsFunction:n},events:{onDoubleClick:d,onClick:c,onPositionChange:u},auras:{enabled:!0,cellSize:8,overlap:!0,style:{Empresarial:{fillColor:"#9E31A9"},Institucional:{fillColor:"#00BCD1"},Social:{fillColor:"#79C588"},Otras:{fillColor:"#494E6B"}}}}),b=new PieChart({parentChart:h,data:{preloaded:{subvalues:[],sortField:"value"}},labels:{enabled:!1},icons:{sizeExtent:[8,30]},pie:{adaptiveRadius:!1,styleFunction:function(t){t.parentSlice&&(t.sliceColors=[t.parentSlice.fillColor],t.colorDistribution="gradient")}},slice:{backgroundStyle:{fillColor:"rgba(0xe2, 0xe2, 0xe2, 0.6)",fillColor2:"rgba(0xe0, 0xe0, 0xe0, 0.6)"},connectorStyle:{lineColor:"#aaa"},style:{label:{textStyle:{font:"14px arial"},backgroundStyle:{fillColor:"rgba(220,220,220,0.6)"}}}},interaction:{resizing:{enabled:!1},others:{minSliceFraction:.03}},events:{onSelectionChange:g}}),y="",v=null,x=[],S=String.fromCharCode(9733),k=null,w=null,C=null,_=null,z=null,E=null,A=1900,N=2018,D=0,F={timeStart:(new Date).getTime()-31536e6,timeEnd:(new Date).getTime(),imdb:5,yearFrom:A,yearTo:N},I={arrows:!1,bounds:{min:A,max:N},defaultValues:{min:F.yearFrom,max:F.yearTo}};t(),function(){$("#overlay").fadeOut(1400)}();var R=$("#years").rangeSlider(I);$("#years").bind("valuesChanging",l),$(".DVSL-Menu").draggable(),window.location.href.indexOf("headless")>-1?$("body").addClass("embed"):$("body").addClass("standalone")},clearSearch:function(){document.getElementById("search").click(),this.$store.commit("clearSearch")}},mounted:function(){this.token=this.$localStorage.get("bubblesToken"),this.init()},computed:{search:{get:function(){return this.$store.getters.getSearch},set:function(){this.$store.state.search=$("#q").val()}}}}},168:function(t,e,a){e=t.exports=a(4)(!1),e.push([t.i,".container[data-v-14f4b2cc]{-webkit-box-flex:1!important;-ms-flex:1 1 100%!important;flex:1 1 100%!important;margin:auto!important;padding:16px!important;padding-top:0!important;width:100%!important}[data-v-14f4b2cc]::-webkit-scrollbar{width:12px!important}[data-v-14f4b2cc]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)!important;border-radius:10px!important}[data-v-14f4b2cc]::-webkit-scrollbar-thumb{border-radius:10px!important;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)!important}.scrollform[data-v-14f4b2cc]{overflow-y:scroll!important}",""])},173:function(t,e,a){var i=a(168);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(5)("70fc595a",i,!0,{})},178:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{"padding-top":"0px !important"},attrs:{fluid:""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("v-layout",{attrs:{column:"","align-center":""}},[a("div",{attrs:{id:"overlay"}},[a("h1",[t._v("Loading")])]),a("div",{staticClass:"fadeIn",staticStyle:{"margin-top":"0px",padding:"0px"},attrs:{id:"controls"}},[a("section",{attrs:{id:"search-chart"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticStyle:{"border-radius":"10px"},attrs:{id:"q"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{attrs:{id:"search"}},[t._v("Search")]),a("v-btn",{attrs:{icon:"",id:"removeSearch"},on:{click:t.clearSearch}},[a("v-icon",[t._v("clear")])],1)],1),a("section",{staticStyle:{width:"600px"}},[a("v-slider",{staticStyle:{width:"450px !important",position:"absolute"},attrs:{id:"nivel",label:t.nivel_label,dark:"","thumb-color":"cyan","thumb-label":"",step:"1",min:"1",max:"10",ticks:""},model:{value:t.nivel,callback:function(e){t.nivel=e},expression:"nivel"}}),a("a",{staticStyle:{position:"absolute",right:"25px",width:"100px",top:"27px"},attrs:{id:"autozoom"}},[a("v-checkbox",{attrs:{dark:"",label:"Autozoom"},model:{value:t.autozoom,callback:function(e){t.autozoom=e},expression:"autozoom"}})],1)],1)]),a("div",{staticClass:"fadeIn",staticStyle:{"border-radius":"10px","margin-left":"5px"},style:{height:t.window_height+"px",background:t.fondoBurbujas+""},attrs:{id:"demo",dark:""}})])],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.alert_no_data_search,callback:function(e){t.alert_no_data_search=e},expression:"alert_no_data_search"}},[a("v-card",[a("v-card-title",[a("h4",[t._v("La búsqueda no ha obtenido resultados")]),a("v-spacer")],1),a("v-card-actions",[a("v-btn",{attrs:{flat:""},on:{click:function(e){e.stopPropagation(),t.alert_no_data_search=!1}}},[t._v("Cerrar")])],1)],1)],1),a("v-fab-transition",[a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.2)"},attrs:{slot:"activator",router:"",to:"/Datos",dark:"",fab:"",fixed:"",bottom:"",right:"",small:""},slot:"activator"},[a("v-icon",[t._v("add")])],1),a("span",[t._v("AÑADIR NODOS")])],1)],1)],1)},staticRenderFns:[]}}});